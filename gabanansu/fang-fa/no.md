# 投票権の委任

{% hint style="warning" %}
ガバナンスについて発言したい場合は、自分自身またはコミュニティの誰かに投票権を委譲する必要があります。この操作を行わないと、投票権を持たないため、Snapshot（オフチェーン）やTally（オンチェーン）で提案を作成したり投票したりすることができなくなることを意味します。
{% endhint %}

### About

要約すると、代議員とは、1回限りの設定作業（トークンのdelegate機能を実行して他のユーザーまたはトークン保持者自身に委任し、ガバナ契約による投票権の決定を可能にする）を完了したトークン保持者のことを指します。デリゲートになると、アクティブなプロポーザルに投票したり、十分な議決権を持っていればプロポーザルを作成したりすることができるようになります。プロポーザルに直接投票しない場合は、自分の投票権をデリゲートに渡すこともできます。 以下の委任のセクションでは、EULトークンのスマートコントラクトを使用し、Tally Governance Dashboardを介して委任することを説明します。 送信者から委任者に投票を委任する。ユーザーは一度に1つのアドレスに委任することができ、委任者の票数に加算される票数は、ユーザーのアカウントにあるEULの残高と同等です。投票は、現在のブロックから、送信者が再び委任するか、EULを譲渡するまで、委任されます。委任は、後述のスマートコントラクト機能、またはタリーのユーザーインターフェースから行うことができます。

### Step-by-step

投票権の委譲は、Etherscan、Tally (オンチェーン) Governance dashboard、またはプログラムによって行うことができます。

#### Etherscan

1\. Etherscanの [EUL token page](https://etherscan.io/address/0xd9fcd98c322942075a5c3860693e9f4f03aae07b)（下図）にアクセスしてください。

2\. コントラクト（下図）をクリックすると、EULトークンのスマートコントラクトコードが表示され、Etherscanを介してコントラクトと対話することができます。

3\. `Write Contract` をクリックします。(下表のとおり)

4\. `Connect to Web3` をクリックしデリゲートトランザクションの確認に使用されるMetamaskウォレットを接続します。接続すると、以下のようにEtherscan上で自分のウォレットが接続されるのが確認できるはずです。

5\. `3. delegate`をクリックすると、委任者のアドレス入力テキストフィールドが展開されます。

6\. 投票権を委譲したいアドレスを入力します。これは、自己委任の場合は自分のウォレットアドレス、または他のウォレットアドレス（コミュニティメンバーや、代表者リストのアクティブな代表者の1人など）になります。 [delegates list](https://app.euler.finance/delegates)

7\. 委任者の住所のテキストフィールドの真下にある青い`Write`ボタンをクリックします。

8\. 最後に、ご自身への委任、代理人への委任に関わらず、メタマスクのウォレットで取引の確認が必要となり、この取引にはガス代がかかります。

現在委任されているアドレスを確認するには、`Write Contract`タブの隣にある`Read Contract`タブをクリックすると、以下のウィンドウが表示されます。

`10. delegates`（下図）をクリックし、テキストフィールドにあなたのアドレスを貼り付け、`Query`をクリックすると、あなたが代理人として設定したアドレスが表示されるはずです。もし、ゼロのアドレス（つまり、0x000000000000000000000000）が表示された場合は、あなたのウォレットまたは他のアドレスに委任していないことを意味します。

また、現在の投票権を確認することができます。

これを行うには、`14. getVotes`（下図）をクリックし、テキストフィールドに自分のアドレスを貼り付けて、`Query`をクリックします。自己委任している場合、あなたの議決権数はあなたが保有しているトークンの数と同じになるはずです。自己委任していない場合、または他のアドレスに委任している場合、クエリーはゼロの議決権を返します。

#### Tally (On-Chain) Governance Dashboard

1\. Tallyの [Euler on-chain governance dashboard](https://www.tally.xyz/governance/eip155:1:0xd8E2114f6bCbaee83CDEB1bD6650a28BBcF144D5) にアクセスし、EULトークンを保有しているウォレットを接続してください。

2\. 画面右上の`Delegate vote`をクリックします。

3\. 以下のようなポップアップウィンドウが表示され、「自分に委任する」「アドレスに委任する」の2つのオプションが表示されます。ポップアップウィンドウから、自分に委任するか、他のウォレットアドレス（コミュニティメンバーや[delegates list](https://app.euler.finance/delegates)のアクティブな委任者の一人など）に委任するか、いずれかのオプションを選択することができます。自分に委任することで、あなたの投票権は保持されます。次回、アクティブな提案があった場合、どのような方法で投票するかを選択することができます。

住所または代理人への委任を選択された場合、代わりに以下の画面が表示され、議決権の委任を希望される住所を入力することができます。

これは、お客様のEULトークンを委任者に譲渡するのではなく、お客様のすべての議決権を委任するだけです。つまり、お客様は、お客様の代わりに投票する委任者または代理人を介して投票することになります。

委任者は後でいつでも変更できますし、また自分自身に委任することもできます。これにより、オンチェーンガバナンス提案の投票に、コミュニティから十分な参加が得られるようになります。

4\. 最後に、ご自身への委任、代理人への委任に関わらず、メタマスクのウォレットで取引の確認が必要となり、この取引にはガス代がかかります。

簡単に説明すると、デリゲートは一度だけ設定プロセスを完了したトークン所有者です。デリゲートになると、アクティブなプロポーザルに投票したり、十分な投票権を持っていればプロポーザルを作成したりすることができるようになります。もしあなたが提案に直接投票しないことを選択した場合、これまで見てきたように、あなたの投票権をデリゲートに渡すことができます。



#### Programmatically

EUL トークンのスマートコントラクトと直接対話したい開発者のために、EUL コントラクトにはデリゲート関数が定義されており、以下にその対話方法の例を示します。

```
function delegate(address delegatee)
```

* `delegatee`: 送信者が投票の委任を希望するアドレス。
* `msg.sender`: 投票権を委任しようとしているEULトークン所有者のアドレス。
* `RETURN`: No return.

**Solidity**

```
EUL eul = EUL(0x123...); // contract address
eul.delegate(delegateeAddress);
```

**Web3.js**

```
const tx = await eul.methods.delegate(delegateeAddress).send({ from: sender });
```
